# NCBI Genome Downloader

ì´ í”„ë¡œì íŠ¸ëŠ” NCBIì˜ Assembly Accession ëª©ë¡ì´ í¬í•¨ëœ TSV íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ,
`datasets` CLIë¥¼ ì‚¬ìš©í•´ ì§€ì •ëœ ìœ ì „ì²´ ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³ , ê° ZIP íŒŒì¼ì„ ê°œë³„ í´ë”ë¡œ í’€ì–´ ì €ì¥í•©ë‹ˆë‹¤.


## âœ¨ ì½”ë“œ ì‘ì„± ëª©ì 

NCBIì—ì„œ ì œê³µí•˜ëŠ” ìœ ì „ì²´ ë°ì´í„°ë¥¼ ìˆ˜ì‘ì—…ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ê³¼ì •ì€ ì‹œê°„ì´ ë§ì´ ë“¤ê³  ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥ì„±ë„ ë†’ìŠµë‹ˆë‹¤.  
ì´ì— ë”°ë¼, ì—¬ëŸ¬ ê°œì˜ `Assembly Accession` ê°’ì„ í¬í•¨í•œ TSV íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ìë™í™” íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ê³ ì ë³¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤:

- **NCBI Datasets CLI**ë¥¼ í†µí•´ ìœ ì „ì²´ ê´€ë ¨ zip íŒŒì¼ì„ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•˜ê³ ,
- ë‹¤ìš´ë¡œë“œëœ ê° `.zip` íŒŒì¼ì„ íŒŒì¼ëª…ê³¼ ë™ì¼í•œ í´ë”ì— **í•˜ìœ„ í´ë” ì—†ì´ í‰ë©´ì ìœ¼ë¡œ ì••ì¶• í•´ì œ**í•˜ë©°,
- ì „ì²´ ì‘ì—…ì„ í•œ ë²ˆì˜ Python ì‹¤í–‰ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.

íŠ¹íˆ, `--include` ì˜µì…˜ì„ í†µí•´ `genome`, `gff3`, `cds`, `rna`, `protein` ë“± **ë‹¤ì–‘í•œ ë°ì´í„° ìœ í˜•ì„ ì„ íƒì ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ëŠ” ì **ì´ ë³¸ ì½”ë“œì˜ ìœ ì—°ì„±ê³¼ í™•ì¥ì„±ì„ ë†’ì´ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í–ˆìŠµë‹ˆë‹¤.

í•´ë‹¹ êµ¬ì¡°ëŠ” ëŒ€ê·œëª¨ ìœ ì „ì²´ ë¶„ì„, ìƒë¬¼ì •ë³´í•™ íŒŒì´í”„ë¼ì¸ ì„¤ê³„, ë°ì´í„° ì •ì œ ìë™í™” ë“±ì˜ ëª©ì ìœ¼ë¡œ í™œìš©í•˜ê¸°ì— ì í•©í•©ë‹ˆë‹¤.

## âœ… ìš”êµ¬ì‚¬í•­

### Python

- Python >= 3.7 (ê¶Œì¥: 3.8 ~ 3.11)

### Python ë¼ì´ë¸ŒëŸ¬ë¦¬

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ê¶Œì¥ ë²„ì „ | ì„¤ì¹˜ ëª…ë ¹ì–´ |
|------------|------------|--------------|
| pandas     | >= 1.3.0   | `pip install pandas>=1.3.0` |

â€» `os`, `zipfile`, `subprocess`ëŠ” Python ë‚´ì¥ ëª¨ë“ˆì…ë‹ˆë‹¤.

### NCBI Datasets CLI

- CLI ë„êµ¬ëª…: `datasets`
- ì„¤ì¹˜ ê¶Œì¥:

```bash
conda install -c conda-forge ncbi-datasets-cli
```

- ì„¤ì¹˜ í™•ì¸:

```bash
datasets version
```

## ğŸ”§ ì‚¬ìš©ë²•

1. TSV íŒŒì¼ì— `'Assembly Accession'` ì»¬ëŸ¼ì´ í¬í•¨ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
2. í´ë”ì— tsvíŒŒì¼ê³¼ íŒŒì´ì¬íŒŒì¼(ncbi_downloader_linux.py)ë¥¼ ë„£ê³  ëŒë¦½ë‹ˆë‹¤
3. ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ê°€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ê³  ì‹¤í–‰ë©ë‹ˆë‹¤:

```bash
datasets download genome accession GCA_000001405.28 \
  --include "GFF3,rna,cds,protein,genome,seq-report" \
  --filename GCA_000001405.28.zip
```

3. `.zip` íŒŒì¼ì€ ë‹¤ìš´ë¡œë“œ í›„, íŒŒì¼ëª…ê³¼ ê°™ì€ í´ë”ì— í•˜ìœ„ í´ë” ì—†ì´ ì••ì¶•ì´ í’€ë¦½ë‹ˆë‹¤.

## ğŸ“ ì˜ˆì‹œ êµ¬ì¡°

```
downloads/
â”œâ”€â”€ GCA_000001405.28.zip
â”œâ”€â”€ GCA_000001405.28/
â”‚   â”œâ”€â”€ genome.fna
â”‚   â”œâ”€â”€ protein.faa
```

## ğŸ”— ì°¸ì¡°

- [NCBI Datasets CLI ë¬¸ì„œ](https://www.ncbi.nlm.nih.gov/datasets/docs/v2/)
